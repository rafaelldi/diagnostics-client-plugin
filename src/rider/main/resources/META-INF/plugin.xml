<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin url="https://github.com/rafaelldi/diagnostics-client-plugin" require-restart="true">
    <id>com.github.rafaelldi.diagnosticsclientplugin</id>
    <name>Diagnostics Client</name>
    <vendor url="https://github.com/rafaelldi">Rival Abdrakhmanov</vendor>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.rider</depends>

    <extensions defaultExtensionNs="com.intellij">
        <toolWindow id="Diagnostics Client"
                    anchor="bottom"
                    icon="DiagnosticsClientIcons.ToolWindow"
                    canCloseContents="true"
                    factoryClass="com.github.rafaelldi.diagnosticsclientplugin.toolWindow.DiagnosticsToolWindowFactory"/>
        <webHelpProvider implementation="com.github.rafaelldi.diagnosticsclientplugin.DiagnosticsClientHelpProvider"/>

        <notificationGroup id="Diagnostics Client" displayType="BALLOON"/>
    </extensions>

    <projectListeners>
        <listener class="com.github.rafaelldi.diagnosticsclientplugin.services.counters.CounterSessionListenerService"
                  topic="com.github.rafaelldi.diagnosticsclientplugin.services.counters.CounterSessionListener"/>
        <listener class="com.github.rafaelldi.diagnosticsclientplugin.services.gc.GcEventSessionListenerService"
                  topic="com.github.rafaelldi.diagnosticsclientplugin.services.gc.GcEventSessionListener"/>
        <listener class="com.github.rafaelldi.diagnosticsclientplugin.services.traces.TraceSessionListenerService"
                  topic="com.github.rafaelldi.diagnosticsclientplugin.services.traces.TraceSessionListener"/>
        <listener class="com.github.rafaelldi.diagnosticsclientplugin.toolWindow.DiagnosticsToolWindowListener"
                  topic="com.intellij.openapi.wm.ex.ToolWindowManagerListener" />
    </projectListeners>

    <actions>
        <group id="DiagnosticsClient.ToolWindow.Explorer">
            <group id="DiagnosticsClient.ToolWindow.Explorer.Counters"
                   icon="DiagnosticsClientIcons.Counters"
                   text="Counters"
                   popup="true">
                <action id="DiagnosticsClient.ToolWindow.Explorer.StartMonitoringCounters"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.counters.StartMonitoringCountersAction"
                        text="Monitor Counters"
                        description="Start monitoring counters"
                        icon="AllIcons.Actions.Show">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.StopMonitoringCounters"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.counters.StopMonitoringCountersAction"
                        text="Stop Monitoring Counters"
                        description="Stop monitoring counters"
                        icon="AllIcons.Actions.Suspend">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.StartCollectingCounters"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.counters.StartCollectingCountersAction"
                        text="Collect Counters"
                        description="Collect counters and export them to a file"
                        icon="AllIcons.Actions.MenuSaveall">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.StopCollectingCounters"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.counters.StopCollectingCountersAction"
                        text="Stop Collecting Counters"
                        description="Stop collecting counters"
                        icon="AllIcons.Actions.Suspend">
                </action>
            </group>
            <group id="DiagnosticsClient.ToolWindow.Explorer.Gc"
                   icon="AllIcons.Actions.GC"
                   text="GC"
                   popup="true">
                <action id="DiagnosticsClient.ToolWindow.Explorer.StartMonitoringGcEvents"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.gc.StartMonitoringGcEventsAction"
                        text="Monitor GC Events"
                        description="Start monitoring GC events"
                        icon="AllIcons.Actions.Show">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.StopMonitoringGcEvents"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.gc.StopMonitoringGcEventsAction"
                        text="Stop Monitoring GC Events"
                        description="Stop monitoring GC events"
                        icon="AllIcons.Actions.Suspend">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.StartCollectingGcEvents"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.gc.StartCollectingGcEventsAction"
                        text="Collect GC Events"
                        description="Collect GC events and save them to a file"
                        icon="AllIcons.Actions.MenuSaveall">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.StopCollectingGcEvents"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.gc.StopCollectingGcEventsAction"
                        text="Stop Collecting GC Events"
                        description="Stop collecting GC events"
                        icon="AllIcons.Actions.Suspend">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.TriggerGcCollection"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.gc.TriggerGcCollectionAction"
                        text="Trigger GC"
                        description="Trigger GC"
                        icon="AllIcons.Actions.Lightning">
                </action>
            </group>
            <group id="DiagnosticsClient.ToolWindow.Explorer.Traces"
                   icon="DiagnosticsClientIcons.Traces"
                   text="Traces"
                   popup="true">
                <action id="DiagnosticsClient.ToolWindow.Explorer.StartMonitoringTraces"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.traces.StartMonitoringTracesAction"
                        text="Monitor Traces"
                        description="Start monitoring traces"
                        icon="AllIcons.Actions.Show">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.StopMonitoringTraces"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.traces.StopMonitoringTracesAction"
                        text="Stop Monitoring Traces"
                        description="Stop monitoring traces"
                        icon="AllIcons.Actions.Suspend">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.StartCollectingTraces"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.traces.StartCollectingTracesAction"
                        text="Collect Traces"
                        description="Start collecting traces"
                        icon="AllIcons.Actions.MenuSaveall">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.StopCollectingTraces"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.traces.StopCollectingTracesAction"
                        text="Stop Collecting Traces"
                        description="Stop collecting traces"
                        icon="AllIcons.Actions.Suspend">
                </action>
            </group>
            <action id="DiagnosticsClient.ToolWindow.Explorer.CollectDump"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.CollectDumpAction"
                    text="Memory Dump"
                    description="Collect memory dump"
                    icon="AllIcons.Actions.Dump">
            </action>
            <action id="DiagnosticsClient.ToolWindow.Explorer.CollectStackTrace"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.CollectStackTraceAction"
                    text="Stack Trace"
                    description="Collect stack trace"
                    icon="RiderIcons.Stacktrace.Stacktrace">
            </action>
            <separator/>
            <action id="DiagnosticsClient.ToolWindow.Explorer.Help"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.DiagnosticsClientHelpAction">
            </action>
        </group>
        <group id="DiagnosticsClient.ToolWindow.CounterSession">
            <action id="DiagnosticsClient.ToolWindow.CounterSession.Start"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.counters.StartCounterMonitoringSessionAction"
                    text="Start Counter Monitoring Session"
                    description="Start counter monitoring session"
                    icon="AllIcons.Actions.Execute">
            </action>
            <action id="DiagnosticsClient.ToolWindow.CounterSession.Stop"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.counters.StopCounterMonitoringSessionAction"
                    text="Stop Counter Monitoring Session"
                    description="Stop counter monitoring session"
                    icon="AllIcons.Actions.Suspend">
            </action>
        </group>
        <group id="DiagnosticsClient.ToolWindow.GcEventSession">
            <action id="DiagnosticsClient.ToolWindow.GcEventSession.Start"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.gc.StartGcEventMonitoringSessionAction"
                    text="Start GC Event Monitoring Session"
                    description="Start GC event monitoring session"
                    icon="AllIcons.Actions.Execute">
            </action>
            <action id="DiagnosticsClient.ToolWindow.GcEventSession.Stop"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.gc.StopGcEventMonitoringSessionAction"
                    text="Stop GC Event Monitoring Session"
                    description="Stop GC event monitoring session"
                    icon="AllIcons.Actions.Suspend">
            </action>
            <action id="DiagnosticsClient.ToolWindow.GcSession.TriggerCollection"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.gc.TriggerGcCollectionSessionAction"
                    text="Trigger GC"
                    description="Trigger GC"
                    icon="AllIcons.Actions.Lightning">
            </action>
        </group>
        <group id="DiagnosticsClient.ToolWindow.TraceSession">
            <action id="DiagnosticsClient.ToolWindow.TraceSession.Start"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.traces.StartTraceMonitoringSessionAction"
                    text="Start Trace Monitoring Session"
                    description="Start trace monitoring session"
                    icon="AllIcons.Actions.Execute">
            </action>
            <action id="DiagnosticsClient.ToolWindow.TraceSession.Stop"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.traces.StopTraceMonitoringSessionAction"
                    text="Stop Trace Monitoring Session"
                    description="Stop trace monitoring session"
                    icon="AllIcons.Actions.Suspend">
            </action>
        </group>
    </actions>
</idea-plugin>
