<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin url="https://github.com/rafaelldi/diagnostics-client-plugin" require-restart="true">
    <id>com.github.rafaelldi.diagnosticsclientplugin</id>
    <name>Diagnostics Client</name>
    <vendor url="https://github.com/rafaelldi">Rival Abdrakhmanov</vendor>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.rider</depends>

    <extensions defaultExtensionNs="com.intellij">
        <toolWindow id="Diagnostics Client"
                    anchor="bottom"
                    icon="DiagnosticsClientIcons.ToolWindow"
                    canCloseContents="true"
                    factoryClass="com.github.rafaelldi.diagnosticsclientplugin.toolWindow.DiagnosticsToolWindowFactory"/>
        <webHelpProvider implementation="com.github.rafaelldi.diagnosticsclientplugin.DiagnosticsClientHelpProvider"/>

        <projectService serviceImplementation="com.github.rafaelldi.diagnosticsclientplugin.toolWindow.CounterTabManager" preload="true"/>
        <projectService serviceImplementation="com.github.rafaelldi.diagnosticsclientplugin.toolWindow.GcEventTabManager" preload="true"/>
        <projectService serviceImplementation="com.github.rafaelldi.diagnosticsclientplugin.toolWindow.TraceTabManager" preload="true"/>
        <projectService serviceImplementation="com.github.rafaelldi.diagnosticsclientplugin.toolWindow.ChartTabManager" preload="true"/>

        <notificationGroup id="Diagnostics Client" displayType="BALLOON"/>
    </extensions>

    <projectListeners>
        <listener class="com.github.rafaelldi.diagnosticsclientplugin.services.counters.CounterSessionListenerService"
                  topic="com.github.rafaelldi.diagnosticsclientplugin.services.counters.CounterSessionListener"/>
        <listener class="com.github.rafaelldi.diagnosticsclientplugin.services.gc.GcEventSessionListenerService"
                  topic="com.github.rafaelldi.diagnosticsclientplugin.services.gc.GcEventSessionListener"/>
        <listener class="com.github.rafaelldi.diagnosticsclientplugin.services.traces.TraceSessionListenerService"
                  topic="com.github.rafaelldi.diagnosticsclientplugin.services.traces.TraceSessionListener"/>
        <listener class="com.github.rafaelldi.diagnosticsclientplugin.services.chart.ChartSessionListenerService"
                  topic="com.github.rafaelldi.diagnosticsclientplugin.services.chart.ChartSessionListener" />
        <listener class="com.github.rafaelldi.diagnosticsclientplugin.toolWindow.DiagnosticsToolWindowListener"
                  topic="com.intellij.openapi.wm.ex.ToolWindowManagerListener" />
    </projectListeners>

    <actions>
        <group id="DiagnosticsClient.ToolWindow.QuickActions">
            <action id="DiagnosticsClient.ToolWindow.QuickActions.Counters"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.quick.StartLiveCounterSessionQuickAction"
                    text="Monitor Counters"
                    description="Start monitoring counters"
                    icon="DiagnosticsClientIcons.Counters">
            </action>
            <action id="DiagnosticsClient.ToolWindow.QuickActions.GcEvents"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.quick.StartLiveGcEventSessionQuickAction"
                    text="Monitor GC Events"
                    description="Start monitoring GC events"
                    icon="AllIcons.Actions.GC">
            </action>
            <action id="DiagnosticsClient.ToolWindow.QuickActions.Traces"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.quick.StartLiveTraceSessionQuickAction"
                    text="Monitor Traces"
                    description="Start monitoring traces"
                    icon="AllIcons.Toolwindows.ToolWindowMessages">
            </action>
        </group>
        <group id="DiagnosticsClient.ToolWindow.Explorer">
            <group id="DiagnosticsClient.ToolWindow.Explorer.Counters"
                   icon="DiagnosticsClientIcons.Counters"
                   text="Counters"
                   popup="true">
                <action id="DiagnosticsClient.ToolWindow.Explorer.LiveCounterSession.Start"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.counters.StartLiveCounterSessionAction"
                        text="Monitor Counters"
                        description="Start monitoring counters"
                        icon="AllIcons.Actions.Show">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.LiveCounterSession.Resume"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.counters.ResumeLiveCounterSessionAction"
                        text="Resume Session"
                        description="Resume counter monitoring session"
                        icon="AllIcons.Actions.Resume">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.LiveCounterSession.Pause"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.counters.PauseLiveCounterSessionAction"
                        text="Pause Session"
                        description="Pause counter monitoring session"
                        icon="AllIcons.Actions.Pause">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.PersistentCounterSession.Start"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.counters.StartPersistentCounterSessionAction"
                        text="Collect Counters"
                        description="Collect counters and export them to a file"
                        icon="AllIcons.Actions.MenuSaveall">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.PersistentCounterSession.Stop"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.counters.StopPersistentCounterSessionAction"
                        text="Stop Collecting Counters"
                        description="Stop collecting counters"
                        icon="AllIcons.Actions.Suspend">
                </action>
            </group>
            <group id="DiagnosticsClient.ToolWindow.Explorer.Gc"
                   icon="AllIcons.Actions.GC"
                   text="GC"
                   popup="true">
                <action id="DiagnosticsClient.ToolWindow.Explorer.LiveGcEventSession.Start"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.gc.StartLiveGcEventSessionAction"
                        text="Monitor GC Events"
                        description="Start monitoring GC events"
                        icon="AllIcons.Actions.Show">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.LiveGcEventSession.Resume"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.gc.ResumeLiveGcEventSessionAction"
                        text="Resume Session"
                        description="Resume GC event monitoring session"
                        icon="AllIcons.Actions.Resume">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.LiveGcEventSession.Pause"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.gc.PauseLiveGcEventSessionAction"
                        text="Pause Session"
                        description="Pause GC event monitoring session"
                        icon="AllIcons.Actions.Pause">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.PersistentGcEventSession.Start"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.gc.StartPersistentGcEventSessionAction"
                        text="Collect GC Events"
                        description="Collect GC events and save them to a file"
                        icon="AllIcons.Actions.MenuSaveall">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.PersistentGcEventSession.Stop"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.gc.StopPersistentGcEventSessionAction"
                        text="Stop Collecting GC Events"
                        description="Stop collecting GC events"
                        icon="AllIcons.Actions.Suspend">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.TriggerGcCollection"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.gc.TriggerGcCollectionAction"
                        text="Trigger GC"
                        description="Trigger GC"
                        icon="AllIcons.Actions.Lightning">
                </action>
            </group>
            <group id="DiagnosticsClient.ToolWindow.Explorer.Traces"
                   icon="AllIcons.Toolwindows.ToolWindowMessages"
                   text="Traces"
                   popup="true">
                <action id="DiagnosticsClient.ToolWindow.Explorer.LiveTraceSession.Start"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.traces.StartLiveTraceSessionAction"
                        text="Monitor Traces"
                        description="Start monitoring traces"
                        icon="AllIcons.Actions.Show">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.LiveTraceSession.Resume"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.traces.ResumeLiveTraceSessionAction"
                        text="Resume Session"
                        description="Resume trace monitoring session"
                        icon="AllIcons.Actions.Resume">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.LiveTraceSession.Pause"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.traces.PauseLiveTraceSessionAction"
                        text="Pause Session"
                        description="Pause trace monitoring session"
                        icon="AllIcons.Actions.Pause">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.PersistentTraceSession.Start"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.traces.StartPersistentTraceSessionAction"
                        text="Collect Traces"
                        description="Start collecting traces"
                        icon="AllIcons.Actions.MenuSaveall">
                </action>
                <action id="DiagnosticsClient.ToolWindow.Explorer.PersistentTraceSession.Stop"
                        class="com.github.rafaelldi.diagnosticsclientplugin.actions.traces.StopPersistentTraceSessionAction"
                        text="Stop Collecting Traces"
                        description="Stop collecting traces"
                        icon="AllIcons.Actions.Suspend">
                </action>
            </group>
            <action id="DiagnosticsClient.ToolWindow.Explorer.CollectDump"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.CollectDumpAction"
                    text="Memory Dump"
                    description="Collect memory dump"
                    icon="AllIcons.Actions.Dump">
            </action>
            <action id="DiagnosticsClient.ToolWindow.Explorer.CollectStackTrace"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.CollectStackTraceAction"
                    text="Stack Trace"
                    description="Collect stack trace"
                    icon="RiderIcons.Stacktrace.Stacktrace">
            </action>
            <action id="DiagnosticsClient.ToolWindow.Explorer.LiveChartSession.Start"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.chart.StartLiveChartSessionAction"
                    text="Monitor Chart"
                    description="Monitor chart"
                    icon="AllIcons.RunConfigurations.TestCustom">
            </action>
            <separator/>
            <action id="DiagnosticsClient.ToolWindow.Explorer.Help"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.DiagnosticsClientHelpAction">
            </action>
        </group>
        <group id="DiagnosticsClient.ToolWindow.CounterSession">
            <action id="DiagnosticsClient.ToolWindow.LiveCounterSession.Resume"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.counters.ResumeLiveCounterSessionAction"
                    text="Resume Session"
                    description="Resume counter monitoring session"
                    icon="AllIcons.Actions.Resume">
            </action>
            <action id="DiagnosticsClient.ToolWindow.LiveCounterSession.Pause"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.counters.PauseLiveCounterSessionAction"
                    text="Pause Session"
                    description="Pause counter monitoring session"
                    icon="AllIcons.Actions.Pause">
            </action>
        </group>
        <group id="DiagnosticsClient.ToolWindow.GcEventSession">
            <action id="DiagnosticsClient.ToolWindow.LiveGcEventSession.Resume"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.gc.ResumeLiveGcEventSessionAction"
                    text="Resume Session"
                    description="Resume GC event monitoring session"
                    icon="AllIcons.Actions.Resume">
            </action>
            <action id="DiagnosticsClient.ToolWindow.LiveGcEventSession.Pause"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.gc.PauseLiveGcEventSessionAction"
                    text="Pause Session"
                    description="Pause GC event monitoring session"
                    icon="AllIcons.Actions.Pause">
            </action>
            <action id="DiagnosticsClient.ToolWindow.GcSession.TriggerCollection"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.gc.TriggerGcCollectionSessionAction"
                    text="Trigger GC"
                    description="Trigger GC"
                    icon="AllIcons.Actions.Lightning">
            </action>
        </group>
        <group id="DiagnosticsClient.ToolWindow.TraceSession">
            <action id="DiagnosticsClient.ToolWindow.LiveTraceSession.Resume"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.traces.ResumeLiveTraceSessionAction"
                    text="Resume Session"
                    description="Resume trace monitoring session"
                    icon="AllIcons.Actions.Resume">
            </action>
            <action id="DiagnosticsClient.ToolWindow.LiveTraceSession.Pause"
                    class="com.github.rafaelldi.diagnosticsclientplugin.actions.traces.PauseLiveTraceSessionAction"
                    text="Pause Session"
                    description="Pause trace monitoring session"
                    icon="AllIcons.Actions.Pause">
            </action>
        </group>
    </actions>
</idea-plugin>
